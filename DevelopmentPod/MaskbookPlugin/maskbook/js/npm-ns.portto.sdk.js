"use strict";
(globalThis["webpackChunk_masknet_extension"] = globalThis["webpackChunk_masknet_extension"] || []).push([[6813],{

/***/ 71773:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "$C": () => (/* binding */ gr),
/* harmony export */   "$x": () => (/* binding */ nr),
/* harmony export */   "D0": () => (/* binding */ Tn),
/* harmony export */   "DB": () => (/* binding */ qt),
/* harmony export */   "IY": () => (/* binding */ Te),
/* harmony export */   "JT": () => (/* binding */ Xt),
/* harmony export */   "J_": () => (/* binding */ Ke),
/* harmony export */   "Jd": () => (/* binding */ Mt),
/* harmony export */   "Jx": () => (/* binding */ Jt),
/* harmony export */   "KX": () => (/* binding */ $t),
/* harmony export */   "Lv": () => (/* binding */ lr),
/* harmony export */   "Nx": () => (/* binding */ ur),
/* harmony export */   "Oq": () => (/* binding */ Yt),
/* harmony export */   "PS": () => (/* binding */ Ir),
/* harmony export */   "Pe": () => (/* binding */ xe),
/* harmony export */   "Qg": () => (/* binding */ An),
/* harmony export */   "R9": () => (/* binding */ pr),
/* harmony export */   "Tl": () => (/* binding */ z),
/* harmony export */   "VX": () => (/* binding */ cr),
/* harmony export */   "WC": () => (/* binding */ mr),
/* harmony export */   "_N": () => (/* binding */ sr),
/* harmony export */   "_Y": () => (/* binding */ Vt),
/* harmony export */   "_v": () => (/* binding */ br),
/* harmony export */   "aU": () => (/* binding */ or),
/* harmony export */   "b9": () => (/* binding */ dr),
/* harmony export */   "c0": () => (/* binding */ Tt),
/* harmony export */   "f": () => (/* binding */ jr),
/* harmony export */   "fo": () => (/* binding */ fr),
/* harmony export */   "iB": () => (/* binding */ hr),
/* harmony export */   "iH": () => (/* binding */ yr),
/* harmony export */   "jL": () => (/* binding */ Zt),
/* harmony export */   "kG": () => (/* binding */ Sr),
/* harmony export */   "kW": () => (/* binding */ xr),
/* harmony export */   "o9": () => (/* binding */ er),
/* harmony export */   "oL": () => (/* binding */ rr),
/* harmony export */   "qE": () => (/* binding */ vr),
/* harmony export */   "sC": () => (/* binding */ Qt),
/* harmony export */   "vc": () => (/* binding */ en),
/* harmony export */   "vw": () => (/* binding */ tr),
/* harmony export */   "wu": () => (/* binding */ Or),
/* harmony export */   "xT": () => (/* binding */ ar),
/* harmony export */   "zG": () => (/* binding */ Oe),
/* harmony export */   "zH": () => (/* binding */ ir),
/* harmony export */   "zq": () => (/* binding */ Ne)
/* harmony export */ });
/* unused harmony exports VERSION, destroy, get, isGetAccount, isGetBlock, isGetBlockByHeight, isGetBlockById, isGetBlockHeader, isGetCollection, isGetEvents, isGetLatestBlock, isGetTransaction, isGetTransactionStatus, isPing, isScript, isTransaction, isUnknown, put, resolveAccounts, resolveArguments, resolveCadence, resolveFinalNormalization, resolveProposerSequenceNumber, resolveRefBlockId, resolveSignatures, resolveValidators, update, voucherToTxId */
/* harmony import */ var _onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(73440);
/* harmony import */ var _onflow_util_actor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(56688);
/* harmony import */ var _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(31787);
/* harmony import */ var _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _onflow_util_address__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(64864);
/* harmony import */ var _improbable_eng_grpc_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(56185);
/* harmony import */ var _improbable_eng_grpc_web__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_improbable_eng_grpc_web__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _improbable_eng_grpc_web_node_http_transport__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(72379);
/* harmony import */ var sha3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(50280);
/* harmony import */ var _onflow_rlp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(78659);
/* harmony import */ var _onflow_util_template__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(61805);
/* provided dependency */ var Buffer = __webpack_require__(15313)["Buffer"];
function O(){return O=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},O.apply(this,arguments)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function _(e,n){return _=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},_(e,n)}function G(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function C(e,n,t){return C=G()?Reflect.construct:function(e,n,t){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(e,r));return t&&_(o,t.prototype),o},C.apply(null,arguments)}function D(e){var n="function"==typeof Map?new Map:void 0;return D=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return C(e,arguments,L(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),_(t,e)},D(e)}function K(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var U,R='{\n  "tag":"UNKNOWN",\n  "assigns":{},\n  "status":"OK",\n  "reason":null,\n  "accounts":{},\n  "params":{},\n  "arguments":{},\n  "message": {\n    "cadence":null,\n    "refBlock":null,\n    "computeLimit":null,\n    "proposer":null,\n    "payer":null,\n    "authorizations":[],\n    "params":[],\n    "arguments":[]\n  },\n  "proposer":null,\n  "authorizations":[],\n  "payer":null,\n  "events": {\n    "eventType":null,\n    "start":null,\n    "end":null,\n    "blockIds":[]\n  },\n  "transaction": {\n    "id":null\n  },\n  "block": {\n    "id":null,\n    "height":null,\n    "isSealed":null\n  },\n  "account": {\n    "addr":null\n  },\n  "collection": {\n    "id":null\n  }\n}',F=new Set(Object.keys(JSON.parse(R))),z=function(){return JSON.parse(R)},H="abcdefghijklmnopqrstuvwxyz0123456789".split(""),q=function(){return H[~~(Math.random()*H.length)]},M=function(){return Array.from({length:10},q).join("")},J=function(e){return Array.isArray(e)},W=function(e){return null==e},Y=function(e){return"function"==typeof e},V=function(e){return e.status="OK",e},X=function(e,n){return e.status="BAD",e.reason=n,e},$=function(e){return function(n){return n.tag=e,V(n)}},Z=function(n,t){return void 0===t&&(t={}),function(r){var o;(0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)("function"==typeof n||"object"==typeof n,"prepAccount must be passed an authorization function or an account object"),(0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(null!=t.role,"Account must have a role");var u=JSON.parse('{\n  "kind":"ACCOUNT",\n  "tempId":null,\n  "addr":null,\n  "keyId":null,\n  "sequenceNum":null,\n  "signature":null,\n  "signingFunction":null,\n  "resolve":null,\n  "role": {\n    "proposer":false,\n    "authorizer":false,\n    "payer":false,\n    "param":false\n  }\n}'),i=t.role,c=M();return n.authorization&&Y(n.authorization)&&(n={resolve:n.authorization}),!n.authorization&&Y(n)&&(n={resolve:n}),r.accounts[c]=O({},u,{tempId:c},n,{role:O({},u.role,"object"==typeof n.role?n.role:{},(o={},o[i]=!0,o))}),"authorizer"===i?r.authorizations.push(c):r[i]=c,r}},Q=function(e){return function(n){var t=M();return n.message.arguments.push(t),n.arguments[t]=JSON.parse('{\n  "kind":"ARGUMENT",\n  "tempId":null,\n  "value":null,\n  "asArgument":null,\n  "xform":null,\n  "resolve": null,\n  "resolveArgument": null\n}'),n.arguments[t].tempId=t,n.arguments[t].value=e.value,n.arguments[t].asArgument=e.asArgument,n.arguments[t].xform=e.xform,n.arguments[t].resolve=e.resolve,n.arguments[t].resolveArgument=e.resolveArgument,V(n)}},ee=$("SCRIPT"),ne=$("TRANSACTION"),te=$("GET_TRANSACTION_STATUS"),re=$("GET_TRANSACTION"),oe=$("GET_ACCOUNT"),ue=$("GET_EVENTS"),ie=$("GET_LATEST_BLOCK"),ce=$("GET_BLOCK_BY_ID"),ae=$("GET_BLOCK_BY_HEIGHT"),se=$("PING"),le=$("GET_BLOCK"),fe=$("GET_BLOCK_HEADER"),de=$("GET_COLLECTION"),me=function(e){return function(n){return n.tag===e}},pe=me("UNKNOWN"),he=me("SCRIPT"),ge=me("TRANSACTION"),ve=me("GET_TRANSACTION_STATUS"),ye=me("GET_TRANSACTION"),be=me("GET_ACCOUNT"),ke=me("GET_EVENTS"),Ie=me("GET_LATEST_BLOCK"),Se=me("GET_BLOCK_BY_ID"),Pe=me("GET_BLOCK_BY_HEIGHT"),we=me("PING"),Ee=me("GET_BLOCK"),Be=me("GET_BLOCK_HEADER"),Ae=me("GET_COLLECTION"),Te=function(e){return"OK"===e.status},xe=function(e){return"BAD"===e.status},Ne=function(e){return e.reason},je=function e(n,t){void 0===t&&(t=[]);try{return Promise.resolve(function(r,o){try{var u=Promise.resolve(n).then(function(r){if(n=function(e){for(var n=0,t=Object.keys(e);n<t.length;n++){var r=t[n];if(!F.has(r))throw new Error('"'+r+'" is an invalid root level Interaction property.')}return e}(r),xe(n))throw new Error("Interaction Error: "+n.reason);if(!t.length)return n;var o=t[0],u=t.slice(1);return Promise.resolve(o).then(function(t){if(Y(t))return e(t(n),u);if(W(t)||!t)return e(n,u);if(function(e){if(null===(n=e)||"object"!=typeof n||W(e)||function(e){return"number"==typeof e}(e))return!1;for(var n,t,r=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return K(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?K(e,n):void 0}}(e))){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(F);!(t=r()).done;)if(!e.hasOwnProperty(t.value))return!1;return!0}(t))return e(t,u);throw new Error("Invalid Interaction Composition")})})}catch(e){return o(e)}return u&&u.then?u.then(void 0,o):u}(0,function(e){throw e}))}catch(e){return Promise.reject(e)}},Oe=function e(){var n=[].slice.call(arguments),t=n[0],r=n[1];return J(t)&&null==r?function(n){return e(n,t)}:je(t,r)},Le=function(e){return e},_e=function(e,n,t){return null==e.assigns[n]?t:e.assigns[n]},Ge=function(e,n){return function(t){return t.assigns[e]=n,V(t)}},Ce=function(e,n){return void 0===n&&(n=Le),function(t){return t.assigns[e]=n(t.assigns[e],t),V(t)}},De=function(e){return function(n){return delete n.assigns[e],V(n)}};function Ke(e){return void 0===e&&(e=[]),Oe(z(),e)}var Ue=function e(n,t){void 0===n&&(n=[]);try{if(!n.length)return Promise.resolve(t);var r=n[0],o=n.slice(1);return Promise.resolve(We(r)).then(function(n){return null==n?e(o,t):n})}catch(e){return Promise.reject(e)}},Re="config",Fe="PUT_CONFIG",ze="GET_CONFIG",He="CONFIG/UPDATED",qe=function(e){return e},Me=((U={})[Fe]=function(e,n,t){var r=t.key,o=t.value;if(null==r)throw new Error("Missing 'key' for config/put.");e.put(r,o),e.broadcast(He,O({},e.all()))},U[ze]=function(e,n,t){var r=t.key,o=t.fallback;if(null==r)throw new Error("Missing 'key' for config/get");n.reply(e.get(r,o))},U.GET_ALL_CONFIG=function(e,n){n.reply(O({},e.all()))},U.UPDATE_CONFIG=function(e,n,t){var r=t.key,o=t.fn;if(null==r)throw new Error("Missing 'key' for config/update");e.update(r,o||qe),e.broadcast(He,O({},e.all()))},U.DELETE_CONFIG=function(e,n,t){var r=t.key;if(null==r)throw new Error("Missing 'key' for config/delete");e.delete(r),e.broadcast(He,O({},e.all()))},U.CLEAR_CONFIG=function(e,n){for(var t=0,r=Object.keys(e.all());t<r.length;t++)e.delete(r[t]);e.broadcast(He,O({},e.all()))},U.WHERE_CONFIG=function(e,n,t){var r=t.pattern;if(null==r)throw new Error("Missing 'pattern' for config/where");n.reply(e.where(r))},U[_onflow_util_actor__WEBPACK_IMPORTED_MODULE_0__/* .SUBSCRIBE */ .kD]=function(e,n){e.subscribe(n.from),e.send(n.from,He,O({},e.all()))},U[_onflow_util_actor__WEBPACK_IMPORTED_MODULE_0__/* .UNSUBSCRIBE */ .By]=function(e,n){e.unsubscribe(n.from)},U);function Je(e,n){return (0,_onflow_util_actor__WEBPACK_IMPORTED_MODULE_0__/* .send */ .lW)(Re,Fe,{key:e,value:n}),en()}function We(e,n){return (0,_onflow_util_actor__WEBPACK_IMPORTED_MODULE_0__/* .send */ .lW)(Re,ze,{key:e,fallback:n},{expectReply:!0,timeout:10})}function Ye(){return (0,_onflow_util_actor__WEBPACK_IMPORTED_MODULE_0__/* .send */ .lW)(Re,"GET_ALL_CONFIG",null,{expectReply:!0,timeout:10})}function Ve(e,n){return void 0===n&&(n=qe),(0,_onflow_util_actor__WEBPACK_IMPORTED_MODULE_0__/* .send */ .lW)(Re,"UPDATE_CONFIG",{key:e,fn:n}),en()}function Xe(e){return (0,_onflow_util_actor__WEBPACK_IMPORTED_MODULE_0__/* .send */ .lW)(Re,"DELETE_CONFIG",{key:e}),en()}function $e(e){return (0,_onflow_util_actor__WEBPACK_IMPORTED_MODULE_0__/* .send */ .lW)(Re,"WHERE_CONFIG",{pattern:e},{expectReply:!0,timeout:10})}function Ze(e){return (0,_onflow_util_actor__WEBPACK_IMPORTED_MODULE_0__/* .subscriber */ .qP)(Re,function(){return (0,_onflow_util_actor__WEBPACK_IMPORTED_MODULE_0__/* .spawn */ .Cs)(Me,Re)},e)}function Qe(){return (0,_onflow_util_actor__WEBPACK_IMPORTED_MODULE_0__/* .send */ .lW)(Re,"CLEAR_CONFIG")}function en(e){return null!=e&&"object"==typeof e&&Object.keys(e).map(function(n){return Je(n,e[n])}),{put:Je,get:We,all:Ye,first:Ue,update:Ve,delete:Xe,where:$e,subscribe:Ze,overload:tn}}(0,_onflow_util_actor__WEBPACK_IMPORTED_MODULE_0__/* .spawn */ .Cs)(Me,Re),en.put=Je,en.get=We,en.all=Ye,en.first=Ue,en.update=Ve,en.delete=Xe,en.where=$e,en.subscribe=Ze,en.overload=tn;var nn=function(e){return e};function tn(e,n){return void 0===e&&(e={}),void 0===n&&(n=nn),new Promise(function(t,r){try{return Promise.resolve(Ye()).then(function(o){var u=function(r,u){try{var i=function(){en(e);var r=n;return Promise.resolve(Ye()).then(function(e){return Promise.resolve(r(e)).then(function(e){return Promise.resolve(Qe()).then(function(){return Promise.resolve(en(o)).then(function(){t(e)})})})})}()}catch(e){return u(e)}return i&&i.then?i.then(void 0,u):i}(0,function(e){return Promise.resolve(Qe()).then(function(){return Promise.resolve(en(o)).then(function(){r(e)})})});if(u&&u.then)return u.then(function(){})})}catch(e){return Promise.reject(e)}})}var rn=function(){return JSON.parse('{\n    "tag":null,\n    "transaction":null,\n    "transactionStatus":null,\n    "transactionId":null,\n    "encodedData":null,\n    "events":null,\n    "account":null,\n    "block":null,\n    "blockHeader":null,\n    "latestBlock":null,\n    "collection":null\n}')},on=function(e,n,t){try{return Promise.resolve(en().get("grpc.metadata",{})).then(function(r){return new Promise(function(o,u){_improbable_eng_grpc_web__WEBPACK_IMPORTED_MODULE_2__.grpc.unary(n,{request:t,host:e,metadata:new _improbable_eng_grpc_web__WEBPACK_IMPORTED_MODULE_2__.grpc.Metadata(r),onEnd:function(e){var n=e.statusMessage;e.status===_improbable_eng_grpc_web__WEBPACK_IMPORTED_MODULE_2__.grpc.Code.OK?o(e.message):u(new Error(n))}})})})}catch(e){return Promise.reject(e)}};_improbable_eng_grpc_web__WEBPACK_IMPORTED_MODULE_2__.grpc.setDefaultTransport((0,_improbable_eng_grpc_web_node_http_transport__WEBPACK_IMPORTED_MODULE_3__/* .NodeHttpTransport */ .g)());var un=function(e){return Buffer.from(e,"hex")},cn=function(e){return Buffer.from(e.padStart(16,0),"hex")},an={0:"UNKNOWN",1:"PENDING",2:"FINALIZED",3:"EXECUTED",4:"SEALED",5:"EXPIRED"},sn=function(e){if(null!=e)return an[String(e)]},ln=function(e){return Buffer.from(e).toString("hex")},fn=function(e){return Buffer.from(JSON.stringify(e),"utf8")};function dn(e,n){var t=rn();return t.tag=e.tag,t.encodedData=JSON.parse(Buffer.from(n.getValue_asU8()).toString("utf8")),t}var mn=function(e){return Buffer.from(e).toString("hex")},pn=function(e){return Buffer.from(e.padStart(16,0),"hex")};function hn(e,n){var t=rn();t.tag=e.tag;var r,o=n.getAccount(),u=(r=o.getContractsMap())?r.getEntryList().reduce(function(e,n){var t;return O({},e,((t={})[n[0]]=Buffer.from(n[1]||new UInt8Array).toString("utf8"),t))},{}):{};return t.account={address:(0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .withPrefix */ .dq)(mn(o.getAddress_asU8())),balance:o.getBalance(),code:Buffer.from(o.getCode_asU8()||new UInt8Array).toString("utf8"),contracts:u,keys:o.getKeysList().map(function(e){return{index:e.getIndex(),publicKey:mn(e.getPublicKey_asU8()),signAlgo:e.getSignAlgo(),hashAlgo:e.getHashAlgo(),weight:e.getWeight(),sequenceNumber:e.getSequenceNumber(),revoked:e.getRevoked()}})},t}var gn=function(e){return Buffer.from(e).toString("hex")};function vn(e,n){var t=rn();t.tag=e.tag;var r=n.getResultsList();return t.events=r.reduce(function(e,n){var t=gn(n.getBlockId_asU8()),r=n.getBlockHeight(),o=n.getBlockTimestamp().toDate().toISOString();return n.getEventsList().forEach(function(n){e.push({blockId:t,blockHeight:r,blockTimestamp:o,type:n.getType(),transactionId:gn(n.getTransactionId_asU8()),transactionIndex:n.getTransactionIndex(),eventIndex:n.getEventIndex(),payload:JSON.parse(Buffer.from(n.getPayload_asU8()).toString("utf8"))})}),e},[]),t}var yn=function(e){return Buffer.from(e).toString("hex")};function bn(e,n){var t=n.getBlock(),r=t.getCollectionGuaranteesList(),o=t.getBlockSealsList(),u=t.getSignaturesList().map(yn),i=rn();return i.tag=e.tag,i.block={id:yn(t.getId_asU8()),parentId:yn(t.getParentId_asU8()),height:t.getHeight(),timestamp:t.getTimestamp().toDate().toISOString(),collectionGuarantees:r.map(function(e){return{collectionId:yn(e.getCollectionId_asU8()),signatures:e.getSignaturesList().map(yn)}}),blockSeals:o.map(function(e){return{blockId:yn(e.getBlockId_asU8()),executionReceiptId:yn(e.getExecutionReceiptId_asU8()),executionReceiptSignatures:e.getExecutionReceiptSignaturesList().map(yn),resultApprovalSignatures:e.getResultApprovalSignaturesList().map(yn)}}),signatures:u},i}var kn=function(e){return Buffer.from(e).toString("hex")};function In(e,n){var t=n.getBlock(),r=rn();return r.tag=e.tag,r.blockHeader={id:kn(t.getId_asU8()),parentId:kn(t.getParentId_asU8()),height:t.getHeight(),timestamp:t.getTimestamp().toDate().toISOString()},r}var Sn=function(e){return Buffer.from(e).toString("hex")},Pn=function(e){return Buffer.from(e).toString("hex")},wn=function(e){return Buffer.from(e).toString("hex")},En=function(e){return Buffer.from(e).toString("hex")},Bn=function(n,t){void 0===t&&(t={});try{var r=function(r){return t.node=r,(0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(t.node,'SDK Send Error: Either opts.node or "accessNode.api" in config must be defined.'),Promise.resolve(n).then(function(r){switch(n=r,!0){case ge(n):return t.sendTransaction?t.sendTransaction(n,t):function(n,t){void 0===t&&(t={});try{(0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(t.node,"SDK Send Transaction Error: opts.node must be defined.");var r=t.unary||on;return Promise.resolve(n).then(function(e){n=e;var o=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.Transaction;o.setScript(function(e){return Buffer.from(e,"utf8")}(n.message.cadence)),o.setGasLimit(n.message.computeLimit),o.setReferenceBlockId(n.message.refBlock?un(n.message.refBlock):null),o.setPayer(cn((0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(n.accounts[n.payer].addr))),n.message.arguments.forEach(function(e){return o.addArguments(function(e){return Buffer.from(JSON.stringify(e),"utf8")}(n.arguments[e].asArgument))}),n.authorizations.map(function(e){return n.accounts[e].addr}).reduce(function(e,n){return e.find(function(e){return e===n})?e:[].concat(e,[n])},[]).forEach(function(e){return o.addAuthorizers(cn((0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(e)))});var u=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.Transaction.ProposalKey;u.setAddress(cn((0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(n.accounts[n.proposer].addr))),u.setKeyId(n.accounts[n.proposer].keyId),u.setSequenceNumber(n.accounts[n.proposer].sequenceNum),o.setProposalKey(u);for(var s=0,l=Object.values(n.accounts);s<l.length;s++){var f=l[s];try{if(!f.role.payer&&null!=f.signature){var d=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.Transaction.Signature;d.setAddress(cn((0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(f.addr))),d.setKeyId(f.keyId),d.setSignature(un(f.signature)),o.addPayloadSignatures(d)}}catch(e){throw console.error("Trouble applying payload signature",{acct:f,ix:n}),e}}for(var m=0,p=Object.values(n.accounts);m<p.length;m++){var h=p[m];try{if(h.role.payer&&null!=h.signature){var g=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.Transaction.Signature;g.setAddress(cn((0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(h.addr))),g.setKeyId(h.keyId),g.setSignature(un(h.signature)),o.addEnvelopeSignatures(g)}}catch(e){throw console.error("Trouble applying envelope signature",{acct:h,ix:n}),e}}var v=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.SendTransactionRequest;v.setTransaction(o);var y=Date.now();return Promise.resolve(r(t.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.SendTransaction,v)).then(function(e){var t,r=Date.now(),o=rn();return o.tag=n.tag,o.transactionId=(t=e.getId_asU8(),Buffer.from(t).toString("hex")),"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("FLOW::TX",{detail:{txId:o.transactionId,delta:r-y}})),o})})}catch(e){return Promise.reject(e)}}(n,t);case ve(n):return t.sendGetTransactionStatus?t.sendGetTransactionStatus(n,t):function(n,t){void 0===t&&(t={});try{(0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(t.node,"SDK Send Get Transaction Status Error: opts.node must be defined.");var r=t.unary||on;return Promise.resolve(n).then(function(e){n=e;var o=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetTransactionRequest;return o.setId(Buffer.from(n.transaction.id,"hex")),Promise.resolve(r(t.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetTransactionResult,o)).then(function(e){var t=e.getEventsList(),r=rn(),o=e.getStatus();return r.tag=n.tag,r.transactionStatus={status:o,statusString:sn(o),statusCode:e.getStatusCode(),errorMessage:e.getErrorMessage(),events:t.map(function(e){return{type:e.getType(),transactionId:(n=e.getTransactionId_asU8(),Buffer.from(n).toString("hex")),transactionIndex:e.getTransactionIndex(),eventIndex:e.getEventIndex(),payload:JSON.parse(Buffer.from(e.getPayload_asU8()).toString("utf8"))};var n})},r})})}catch(e){return Promise.reject(e)}}(n,t);case ye(n):return t.sendGetTransaction?t.sendGetTransaction(n,t):function(n,t){void 0===t&&(t={});try{(0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(t.node,"SDK Send Get Transaction Error: opts.node must be defined.");var r=t.unary||on;return Promise.resolve(n).then(function(e){n=e;var o=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetTransactionRequest;return o.setId(Buffer.from(n.transaction.id,"hex")),Promise.resolve(r(t.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetTransaction,o)).then(function(e){var t=rn();t.tag=n.tag;var r,o=function(e){return{address:ln(e.getAddress_asU8()),keyId:e.getKeyId(),signature:ln(e.getSignature_asU8())}},u=e.getTransaction();return t.transaction={script:Buffer.from(u.getScript_asU8()).toString("utf8"),args:u.getArgumentsList().map(function(e){return JSON.parse(Buffer.from(e).toString("utf8"))}),referenceBlockId:ln(u.getReferenceBlockId_asU8()),gasLimit:u.getGasLimit(),proposalKey:(r=u.getProposalKey(),{address:ln(r.getAddress_asU8()),keyId:r.getKeyId(),sequenceNumber:r.getSequenceNumber()}),payer:ln(u.getPayer_asU8()),authorizers:u.getAuthorizersList().map(ln),payloadSignatures:u.getPayloadSignaturesList().map(o),envelopeSignatures:u.getEnvelopeSignaturesList().map(o)},t})})}catch(e){return Promise.reject(e)}}(n,t);case he(n):return t.sendExecuteScript?t.sendExecuteScript(n,t):function(n,t){void 0===t&&(t={});try{return (0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(t.node,"SDK Send Execute Script Error: opts.node must be defined."),Promise.resolve(n).then(function(e){return n=e,Promise.resolve(n.block.id?function(e,n){try{var t=n.unary||on,r=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.ExecuteScriptAtBlockIDRequest;r.setBlockId(Buffer.from(e.block.id,"hex"));var o=Buffer.from(e.message.cadence,"utf8");return e.message.arguments.forEach(function(n){return r.addArguments(fn(e.arguments[n].asArgument))}),r.setScript(o),Promise.resolve(t(n.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.ExecuteScriptAtBlockID,r)).then(function(n){return dn(e,n)})}catch(e){return Promise.reject(e)}}(n,t):n.block.height?function(e,n){try{var t=n.unary||on,r=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.ExecuteScriptAtBlockHeightRequest;r.setBlockHeight(Number(e.block.height));var o=Buffer.from(e.message.cadence,"utf8");return e.message.arguments.forEach(function(n){return r.addArguments(fn(e.arguments[n].asArgument))}),r.setScript(o),Promise.resolve(t(n.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.ExecuteScriptAtBlockHeight,r)).then(function(n){return dn(e,n)})}catch(e){return Promise.reject(e)}}(n,t):function(e,n){try{var t=n.unary||on,r=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.ExecuteScriptAtLatestBlockRequest,o=Buffer.from(e.message.cadence,"utf8");return e.message.arguments.forEach(function(n){return r.addArguments(fn(e.arguments[n].asArgument))}),r.setScript(o),Promise.resolve(t(n.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.ExecuteScriptAtLatestBlock,r)).then(function(n){return dn(e,n)})}catch(e){return Promise.reject(e)}}(n,t))})}catch(e){return Promise.reject(e)}}(n,t);case be(n):return t.sendGetAccount?t.sendGetAccount(n,t):function(n,t){void 0===t&&(t={});try{return (0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(t.node,"SDK Send Get Account Error: opts.node must be defined."),Promise.resolve(n).then(function(e){return n=e,Promise.resolve(null!==n.block.height?function(e,n){try{var t=n.unary||on,r=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetAccountAtBlockHeightRequest;return r.setBlockHeight(Number(e.block.height)),r.setAddress(pn((0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(e.account.addr))),Promise.resolve(t(n.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetAccountAtBlockHeight,r)).then(function(n){return hn(e,n)})}catch(e){return Promise.reject(e)}}(n,t):function(e,n){try{var t=n.unary||on,r=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetAccountAtLatestBlockRequest;return r.setAddress(pn((0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(e.account.addr))),Promise.resolve(t(n.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetAccountAtLatestBlock,r)).then(function(n){return hn(e,n)})}catch(e){return Promise.reject(e)}}(n,t))})}catch(e){return Promise.reject(e)}}(n,t);case ke(n):return t.sendGetEvents?t.sendGetEvents(n,t):function(n,t){void 0===t&&(t={});try{return (0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(t.node,"SDK Send Get Events Error: opts.node must be defined."),Promise.resolve(n).then(function(r){var o=null!==(n=r).events.start,u=Array.isArray(n.events.blockIds)&&n.events.blockIds.length>0;return (0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(o||u,"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified."),Promise.resolve(o?function(e,n){try{var t=n.unary||on,r=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetEventsForHeightRangeRequest;return r.setType(e.events.eventType),r.setStartHeight(Number(e.events.start)),r.setEndHeight(Number(e.events.end)),Promise.resolve(t(n.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetEventsForHeightRange,r)).then(function(n){return vn(e,n)})}catch(e){return Promise.reject(e)}}(n,t):function(e,n){try{var t=n.unary||on,r=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetEventsForBlockIDsRequest;return r.setType(e.events.eventType),e.events.blockIds.forEach(function(e){return r.addBlockIds(Buffer.from(e,"hex"))}),Promise.resolve(t(n.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetEventsForBlockIDs,r)).then(function(n){return vn(e,n)})}catch(e){return Promise.reject(e)}}(n,t))})}catch(e){return Promise.reject(e)}}(n,t);case Ie(n):return t.sendGetLatestBlock?t.sendGetLatestBlock(n,t):function(n,t){void 0===t&&(t={});try{return (0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(t.node,"SDK Send Get Latest Block Error: opts.node must be defined."),Promise.resolve(n).then(function(e){n=e;var r=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetLatestBlockRequest;return n.latestBlock&&n.latestBlock.isSealed&&(r.setIsSealed(n.latestBlock.isSealed),console.error("\n          %c@onflow/send Deprecation Notice\n          ========================\n\n          Operating upon data of the latestBlock field of the interaction object is deprecated and will no longer be recognized in future releases of @onflow/send.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/send/WARNINGS.md#0001-Deprecating-latestBlock-field\n\n          =======================\n        ".replace(/\n\s+/g,"\n").trim(),"font-weight:bold;font-family:monospace;")),n.block&&n.block.isSealed&&r.setIsSealed(n.block.isSealed),Promise.resolve(on(t.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetLatestBlock,r)).then(function(e){var t=e.getBlock(),r=t.getCollectionGuaranteesList(),o=t.getBlockSealsList(),u=t.getSignaturesList(),i=rn();return i.tag=n.tag,i.block={id:Sn(t.getId_asU8()),parentId:Sn(t.getParentId_asU8()),height:t.getHeight(),timestamp:t.getTimestamp(),collectionGuarantees:r.map(function(e){return{collectionId:Sn(e.getCollectionId_asU8()),signatures:e.getSignaturesList()}}),blockSeals:o.map(function(e){return{blockId:Sn(e.getBlockId_asU8()),executionReceiptId:Sn(e.getExecutionReceiptId_asU8()),executionReceiptSignatures:e.getExecutionReceiptSignaturesList(),resultApprovalSignatures:e.getResultApprovalSignaturesList()}}),signatures:u},i})})}catch(e){return Promise.reject(e)}}(n,t);case Ee(n):return t.sendGetBlock?t.sendGetBlock(n,t):function(n,t){void 0===t&&(t={});try{return (0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(t.node,"SDK Send Get Block Error: opts.node must be defined."),Promise.resolve(n).then(function(e){var r=null!==(n=e).block.height;return Promise.resolve(null!==n.block.id?function(e,n){try{var t=n.unary||on,r=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetBlockByIDRequest;return r.setId(Buffer.from(e.block.id,"hex")),Promise.resolve(t(n.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetBlockByID,r)).then(function(n){return bn(e,n)})}catch(e){return Promise.reject(e)}}(n,t):r?function(e,n){try{var t=n.unary||on,r=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetBlockByHeightRequest;return r.setHeight(Number(e.block.height)),Promise.resolve(t(n.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetBlockByHeight,r)).then(function(n){return bn(e,n)})}catch(e){return Promise.reject(e)}}(n,t):function(e,n){try{var t,r=n.unary||on,o=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetLatestBlockRequest;return null!=(t=e.block)&&t.isSealed&&o.setIsSealed(e.block.isSealed),Promise.resolve(r(n.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetLatestBlock,o)).then(function(n){return bn(e,n)})}catch(e){return Promise.reject(e)}}(n,t))})}catch(e){return Promise.reject(e)}}(n,t);case Be(n):return t.sendGetBlockHeader?t.sendGetBlockHeader(n,t):function(n,t){void 0===t&&(t={});try{return (0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(t.node,"SDK Send Get Block Header Error: opts.node must be defined."),Promise.resolve(n).then(function(e){var r=null!==(n=e).block.height;return Promise.resolve(null!==n.block.id?function(e,n){try{var t=n.unary||on,r=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetBlockHeaderByIDRequest;return r.setId(Buffer.from(e.block.id,"hex")),Promise.resolve(t(n.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetBlockHeaderByID,r)).then(function(n){return In(e,n)})}catch(e){return Promise.reject(e)}}(n,t):r?function(e,n){try{var t=n.unary||on,r=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetBlockHeaderByHeightRequest;return r.setHeight(Number(e.block.height)),Promise.resolve(t(n.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetBlockHeaderByHeight,r)).then(function(n){return In(e,n)})}catch(e){return Promise.reject(e)}}(n,t):function(e,n){try{var t,r=n.unary||on,o=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetLatestBlockHeaderRequest;return null!=(t=e.block)&&t.isSealed&&o.setIsSealed(e.block.isSealed),Promise.resolve(r(n.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetLatestBlockHeader,o)).then(function(n){return In(e,n)})}catch(e){return Promise.reject(e)}}(n,t))})}catch(e){return Promise.reject(e)}}(n,t);case Se(n):return t.sendGetBlockById?t.sendGetBlockById(n,t):function(n,t){void 0===t&&(t={});try{return (0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(t.node,"SDK Send Get Block By ID Error: opts.node must be defined."),Promise.resolve(n).then(function(e){n=e;var r=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetBlockByIDRequest;return r.setId(Buffer.from(n.block.id,"hex")),Promise.resolve(on(t.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetBlockByID,r)).then(function(e){var t=e.getBlock(),r=t.getCollectionGuaranteesList(),o=t.getBlockSealsList(),u=t.getSignaturesList(),i=rn();return i.tag=n.tag,i.block={id:Pn(t.getId_asU8()),parentId:Pn(t.getParentId_asU8()),height:t.getHeight(),timestamp:t.getTimestamp(),collectionGuarantees:r.map(function(e){return{collectionId:Pn(e.getCollectionId_asU8()),signatures:e.getSignaturesList()}}),blockSeals:o.map(function(e){return{blockId:Pn(e.getBlockId_asU8()),executionReceiptId:Pn(e.getExecutionReceiptId_asU8()),executionReceiptSignatures:e.getExecutionReceiptSignaturesList(),resultApprovalSignatures:e.getResultApprovalSignaturesList()}}),signatures:u},i})})}catch(e){return Promise.reject(e)}}(n,t);case Pe(n):return t.sendGetBlockByHeight?t.sendGetBlockByHeight(n,t):function(n,t){void 0===t&&(t={});try{return (0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(t.node,"SDK Send Get Block By Height Error: opts.node must be defined."),Promise.resolve(n).then(function(e){n=e;var r=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetBlockByHeightRequest;return r.setHeight(Number(n.block.height)),Promise.resolve(on(t.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetBlockByHeight,r)).then(function(e){var t=e.getBlock(),r=t.getCollectionGuaranteesList(),o=t.getBlockSealsList(),u=t.getSignaturesList(),i=rn();return i.tag=n.tag,i.block={id:wn(t.getId_asU8()),parentId:wn(t.getParentId_asU8()),height:t.getHeight(),timestamp:t.getTimestamp(),collectionGuarantees:r.map(function(e){return{collectionId:wn(e.getCollectionId_asU8()),signatures:e.getSignaturesList()}}),blockSeals:o.map(function(e){return{blockId:wn(e.getBlockId_asU8()),executionReceiptId:wn(e.getExecutionReceiptId_asU8()),executionReceiptSignatures:e.getExecutionReceiptSignaturesList(),resultApprovalSignatures:e.getResultApprovalSignaturesList()}}),signatures:u},i})})}catch(e){return Promise.reject(e)}}(n,t);case Ae(n):return t.sendGetCollection?t.sendGetCollection(n,t):function(n,t){void 0===t&&(t={});try{(0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(t.node,"SDK Send Get Collection Error: opts.node must be defined.");var r=t.unary||on;return Promise.resolve(n).then(function(e){n=e;var o=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.GetCollectionByIDRequest;return o.setId(Buffer.from(n.collection.id,"hex")),Promise.resolve(r(t.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.GetCollectionByID,o)).then(function(e){var t=e.getCollection(),r=rn();return r.tag=n.tag,r.collection={id:En(t.getId_asU8()),transactionIds:t.getTransactionIdsList().map(En)},r})})}catch(e){return Promise.reject(e)}}(n,t);case we(n):return t.sendPing?t.sendPing(n,t):function(n,t){void 0===t&&(t={});try{(0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(t.node,"SDK Send Ping Error: opts.node must be defined.");var r=t.unary||on;return Promise.resolve(n).then(function(e){n=e;var o=new _blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.PingRequest;return Promise.resolve(r(t.node,_blocto_protobuf__WEBPACK_IMPORTED_MODULE_1__.AccessAPI.Ping,o)).then(function(e){var t=rn();return t.tag=n.tag,t})})}catch(e){return Promise.reject(e)}}(n,t);default:return n}})},o=t.node;return Promise.resolve(o?r(o):Promise.resolve(en().get("accessNode.api")).then(r))}catch(e){return Promise.reject(e)}};function An(e){return void 0===e&&(e=null),Oe([le,function(n){return n.block.isSealed=e,V(n)}])}function Tn(e){return Oe([oe,function(n){return n.account.addr=(0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(e),V(n)}])}var xn=function(e,n,t){try{try{return Promise.resolve(Number(e))}catch(e){throw new Error("Decode Number Error : "+t.join("."))}}catch(e){return Promise.reject(e)}},Nn=function(e){return Promise.resolve(e)},jn=function(e,n,t){try{return Promise.resolve(e.fields.reduce(function(e,r){try{return Promise.resolve(e).then(function(o){return e=o,Promise.resolve(_n(r.value,n,[].concat(t,[r.name]))).then(function(n){return e[r.name]=n,e})})}catch(e){return Promise.reject(e)}},Promise.resolve({}))).then(function(t){var r=e.id&&Ln(n,e.id);return r?Promise.resolve(r(t)):t})}catch(e){return Promise.reject(e)}},On={UInt:xn,Int:xn,UInt8:xn,Int8:xn,UInt16:xn,Int16:xn,UInt32:xn,Int32:xn,UInt64:xn,Int64:xn,UInt128:xn,Int128:xn,UInt256:xn,Int256:xn,Word8:xn,Word16:xn,Word32:xn,Word64:xn,UFix64:Nn,Fix64:Nn,String:Nn,Character:Nn,Bool:Nn,Address:Nn,Void:function(){return Promise.resolve(null)},Optional:function(e,n,t){return Promise.resolve(e?_n(e,n,t):null)},Reference:function(e){try{return Promise.resolve({address:e.address,type:e.type})}catch(e){return Promise.reject(e)}},Array:function(e,n,t){try{return Promise.resolve(Promise.all(e.map(function(e){return new Promise(function(r){try{return Promise.resolve(_n(e,n,[].concat(t,[e.type]))).then(r)}catch(e){return Promise.reject(e)}})})))}catch(e){return Promise.reject(e)}},Dictionary:function(e,n,t){try{return Promise.resolve(e.reduce(function(e,r){try{return Promise.resolve(e).then(function(o){return e=o,Promise.resolve(_n(r.key,n,[].concat(t,[r.key]))).then(function(o){return Promise.resolve(_n(r.value,n,[].concat(t,[r.key]))).then(function(n){return e[o]=n,e})})})}catch(e){return Promise.reject(e)}},Promise.resolve({})))}catch(e){return Promise.reject(e)}},Event:jn,Resource:jn,Struct:jn,Enum:jn,Type:function(e){try{return Promise.resolve(e.staticType)}catch(e){return Promise.reject(e)}},Path:function(e){try{return Promise.resolve({domain:e.domain,identifier:e.identifier})}catch(e){return Promise.reject(e)}},Capability:function(e){try{return Promise.resolve({path:e.path,address:e.address,borrowType:e.borrowType})}catch(e){return Promise.reject(e)}}},Ln=function(e,n){var t=Object.keys(e).find(function(e){return/^\/.*\/$/.test(e)?new RegExp(e.substring(1,e.length-1)).test(n):e===n});return n&&t&&e[t]},_n=function(e,n,t){try{var r=Ln(n,e.type);if(!r)throw new Error("Undefined Decoder Error: "+e.type+"@"+t.join("."));return Promise.resolve(r(e.value,n,t))}catch(e){return Promise.reject(e)}},Gn=function(e,n,t){void 0===n&&(n={}),void 0===t&&(t=[]);var r=O({},On,n);return Promise.resolve(_n(e,r,t))},Cn=function(e,n){void 0===n&&(n={});try{var t,r=O({},On,n),o=e.encodedData?Promise.resolve(Gn(e.encodedData,r)).then(function(e){return t=1,e}):e.transactionStatus?Promise.resolve(Promise.all(e.transactionStatus.events.map(function(e){try{var n=e.eventIndex,t=e.transactionIndex,o=e.transactionId,u=e.type;return Promise.resolve(Gn(e.payload,r)).then(function(e){return{type:u,transactionId:o,transactionIndex:t,eventIndex:n,data:e}})}catch(e){return Promise.reject(e)}}))).then(function(n){var r=O({},e.transactionStatus,{events:n});return t=1,r}):e.transaction?(t=1,e.transaction):e.events?Promise.resolve(Promise.all(e.events.map(function(e){try{var n=e.eventIndex,t=e.transactionIndex,o=e.transactionId,u=e.type,i=e.blockTimestamp,c=e.blockHeight,a=e.blockId;return Promise.resolve(Gn(e.payload,r)).then(function(e){return{blockId:a,blockHeight:c,blockTimestamp:i,type:u,transactionId:o,transactionIndex:t,eventIndex:n,data:e}})}catch(e){return Promise.reject(e)}}))).then(function(e){return t=1,e}):e.account?(t=1,e.account):e.block?(t=1,e.block):e.blockHeader?(t=1,e.blockHeader):e.latestBlock?(console.error("\n          %c@onflow/decode Deprecation Notice\n          ========================\n\n          Operating upon data of the latestBlock field of the response object is deprecated and will no longer be recognized in future releases of @onflow/decode.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\n\n          =======================\n        ".replace(/\n\s+/g,"\n").trim(),"font-weight:bold;font-family:monospace;"),t=1,e.latestBlock):e.transactionId?(t=1,e.transactionId):e.collection?(t=1,e.collection):void 0;return Promise.resolve(o&&o.then?o.then(function(e){return t?e:null}):t?o:null)}catch(e){return Promise.reject(e)}};function Dn(e){return function(n){try{return ge(n)?n.message.refBlock?Promise.resolve(V(n)):Promise.resolve(function(e){try{var n;return Promise.resolve(Oe(z(),[An()])).then(function(t){return n=t,Promise.resolve(Bn(n,e)).then(function(e){return n=e,Promise.resolve(Cn(n)).then(function(e){return(n=e).id})})})}catch(e){return Promise.reject(e)}}(e)).then(function(e){return n.message.refBlock=e,V(n)}):Promise.resolve(V(n))}catch(e){return Promise.reject(e)}}}var Kn=function(n){try{var t=function(){if(ge(n)||he(n)){var t=function(){return (0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(Rn(r),"Cadence needs to be a string at this point."),Promise.resolve(en().where(/^0x/).then(function(e){return Object.entries(e).reduce(function(e,n){var t=n[1],r=new RegExp("(\\b"+n[0]+"\\b)","g");return e.replace(r,t)},r)})).then(function(e){n.message.cadence=e})},r=_e(n,"ix.cadence");(0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(Un(r)||Rn(r),"Cadence needs to be a function or a string.");var o=function(){if(Un(r))return Promise.resolve(r({})).then(function(e){r=e})}();return o&&o.then?o.then(t):t()}}();return Promise.resolve(t&&t.then?t.then(function(){return n}):n)}catch(e){return Promise.reject(e)}},Un=function(e){return"function"==typeof e},Rn=function(e){return"string"==typeof e},Fn="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function zn(e,n,t){if(!e.s){if(t instanceof Hn){if(!t.s)return void(t.o=zn.bind(null,e,n));1&n&&(n=t.s),t=t.v}if(t&&t.then)return void t.then(zn.bind(null,e,n),zn.bind(null,e,2));e.s=n,e.v=t;var r=e.o;r&&r(e)}}var Hn=function(){function e(){}return e.prototype.then=function(n,t){var r=new e,o=this.s;if(o){var u=1&o?n:t;if(u){try{zn(r,1,u(this.v))}catch(e){zn(r,2,e)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?zn(r,1,n?n(o):o):t?zn(r,1,t(o)):zn(r,2,o)}catch(e){zn(r,2,e)}},r},e}();function qn(e){return e instanceof Hn&&1&e.s}var Mn,Jn=function(n){try{var t=function(){if(ge(n)||he(n)){var t=function(e,n,t){if("function"==typeof e[Fn]){var r,o,u,i=e[Fn]();if(function e(t){try{for(;!(r=i.next()).done;)if((t=n(r.value))&&t.then){if(!qn(t))return void t.then(e,u||(u=zn.bind(null,o=new Hn,2)));t=t.v}o?zn(o,1,t):o=t}catch(e){zn(o||(o=new Hn),2,e)}}(),i.return){var c=function(e){try{r.done||i.return()}catch(e){}return e};if(o&&o.then)return o.then(c,function(e){throw c(e)});c()}return o}if(!("length"in e))throw new TypeError("Object is not iterable");for(var a=[],s=0;s<e.length;s++)a.push(e[s]);return function(e,n,t){var r,o,u=-1;return function t(i){try{for(;++u<e.length;)if((i=n(u))&&i.then){if(!qn(i))return void i.then(t,o||(o=zn.bind(null,r=new Hn,2)));i=i.v}r?zn(r,1,i):r=i}catch(e){zn(r||(r=new Hn),2,e)}}(),r}(a,function(e){return n(a[e])})}(Object.entries(n.arguments),function(t){var r=t[0];return Promise.resolve(Wn(t[1])).then(function(t){n.arguments[r].asArgument=function(n){return (0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(null!=typeof n.xform,"No type specified for argument: "+n.value),Yn(n.xform)?n.xform(n.value):Yn(n.xform.asArgument)?n.xform.asArgument(n.value):void (0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(!1,"Invalid Argument",n)}(t)})});if(t&&t.then)return t.then(function(){})}}();return Promise.resolve(t&&t.then?t.then(function(){return n}):n)}catch(e){return Promise.reject(e)}},Wn=function n(t,r){void 0===r&&(r=3);try{return (0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(r>0,"Argument Resolve Recursion Limit Exceeded for Arg: "+t.tempId),Yn(t.resolveArgument)?Promise.resolve(t.resolveArgument()).then(function(e){return n(e,r-1)}):Promise.resolve(t)}catch(e){return Promise.reject(e)}},Yn=function(e){return"function"==typeof e},Vn=function(e){return Qn(ut(it(e)))},Xn=function(e){return Qn(ut(ct(e)))},$n=function(e,n){return Buffer.from(e.padStart(2*n,0),"hex")},Zn=(Mn=Buffer.from("FLOW-V0.0-transaction").toString("hex"),Buffer.from(Mn.padEnd(64,0),"hex")).toString("hex"),Qn=function(e){return Zn+e},et=function(e){return $n(e,8)},nt=function(e){return $n(e,32)},tt=function(e){return Buffer.from(JSON.stringify(e),"utf8")},rt=function(e){return Buffer.from(e,"utf8")},ot=function(e){return Buffer.from(e,"hex")},ut=function(e){return (0,_onflow_rlp__WEBPACK_IMPORTED_MODULE_5__/* .encode */ .cv)(e).toString("hex")},it=function(e){return lt(e),[rt(e.cadence),e.arguments.map(tt),nt(e.refBlock),e.computeLimit,et(e.proposalKey.address),e.proposalKey.keyId,e.proposalKey.sequenceNum,et(e.payer),e.authorizers.map(et)]},ct=function(e){return ft(e),[it(e),at(e)]},at=function(e){var n=st(e);return e.payloadSigs.map(function(e){return{signerIndex:n.get(e.address),keyId:e.keyId,sig:e.sig}}).sort(function(e,n){return e.signerIndex>n.signerIndex?1:e.signerIndex<n.signerIndex?-1:e.keyId>n.keyId?1:e.keyId<n.keyId?-1:void 0}).map(function(e){return[e.signerIndex,e.keyId,ot(e.sig)]})},st=function(e){var n=new Map,t=0,r=function(e){n.has(e)||(n.set(e,t),t++)};return r(e.proposalKey.address),r(e.payer),e.authorizers.forEach(r),n},lt=function(e){gt.forEach(function(n){return St(e,n)}),vt.forEach(function(n){return St(e.proposalKey,n,"proposalKey")})},ft=function(e){yt.forEach(function(n){return St(e,n)}),e.payloadSigs.forEach(function(e,n){bt.forEach(function(t){return St(e,t,"payloadSigs",n)})})},dt=function(e){return"number"==typeof e},mt=function(e){return"string"==typeof e},pt=function(e){return null!==e&&"object"==typeof e},ht=function(e){return pt(e)&&e instanceof Array},gt=[{name:"cadence",check:mt},{name:"arguments",check:ht},{name:"refBlock",check:mt,defaultVal:"0"},{name:"computeLimit",check:dt},{name:"proposalKey",check:pt},{name:"payer",check:mt},{name:"authorizers",check:ht}],vt=[{name:"address",check:mt},{name:"keyId",check:dt},{name:"sequenceNum",check:dt}],yt=[{name:"payloadSigs",check:ht}],bt=[{name:"address",check:mt},{name:"keyId",check:dt},{name:"sig",check:mt}],kt=[{name:"envelopeSigs",check:ht}],It=[{name:"address",check:mt},{name:"keyId",check:dt},{name:"sig",check:mt}],St=function(e,n,t,r){var o=n.name,u=n.check,i=n.defaultVal;if(null==e[o]&&null!=i&&(e[o]=i),null==e[o])throw wt(o,t,r);if(!u(e[o]))throw Et(o,t,r)},Pt=function(e,n,t){return n?null==t?n+"."+e:n+"."+t+"."+e:e},wt=function(e,n,t){return new Error("Missing field "+Pt(e,n,t))},Et=function(e,n,t){return new Error("Invalid field "+Pt(e,n,t))};function Bt(e){var n=new Set(e.authorizations);return n.add(e.proposer),n.delete(e.payer),Array.from(n)}function At(e){var n=new Set([e.payer]);return Array.from(n)}var Tt=function(e){return{cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map(function(n){return e.arguments[n].asArgument}),proposalKey:{address:(0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .withPrefix */ .dq)(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum},payer:(0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .withPrefix */ .dq)(e.accounts[e.payer].addr),authorizers:function(){var n=e.authorizations.map(function(n){return (0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .withPrefix */ .dq)(e.accounts[n].addr)}).reduce(function(e,n){return e.find(function(e){return e===n})?e:[].concat(e,[n])},[]);return n[0]?n:[]}(),payloadSigs:Bt(e).map(function(n){return{address:(0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .withPrefix */ .dq)(e.accounts[n].addr),keyId:e.accounts[n].keyId,sig:e.accounts[n].signature}}),envelopeSigs:At(e).map(function(n){return{address:(0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .withPrefix */ .dq)(e.accounts[n].addr),keyId:e.accounts[n].keyId,sig:e.accounts[n].signature}})}},xt=function(e){return function(e){return n=ut(function(e){!function(e){gt.forEach(function(n){return St(e,n)}),vt.forEach(function(n){return St(e.proposalKey,n,"proposalKey")}),yt.forEach(function(n){return St(e,n)}),e.payloadSigs.forEach(function(e,n){bt.forEach(function(t){return St(e,t,"payloadSigs",n)})}),kt.forEach(function(n){return St(e,n)}),e.envelopeSigs.forEach(function(e,n){It.forEach(function(t){return St(e,t,"envelopeSigs",n)})})}(e);var n=st(e),t=function(e){return e.map(function(e){var t=e.keyId,r=e.sig;return{signerIndex:n.get(e.address),keyId:t,sig:r}}).sort(function(e,n){return e.signerIndex>n.signerIndex?1:e.signerIndex<n.signerIndex?-1:e.keyId>n.keyId?1:e.keyId<n.keyId?-1:void 0}).map(function(e){return[e.signerIndex,e.keyId,ot(e.sig)]})};return[[rt(e.cadence),e.arguments.map(tt),nt(e.refBlock),e.computeLimit,et(E(e.proposalKey.address)),e.proposalKey.keyId,e.proposalKey.sequenceNum,et(E(e.payer)),e.authorizers.map(function(e){return et(E(e))})],t(e.payloadSigs),t(e.envelopeSigs)]}(e)),(t=new x(256)).update(Buffer.from(n,"hex")),t.digest().toString("hex");var n,t}(e)},Nt="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function jt(e,n,t){if(!e.s){if(t instanceof Ot){if(!t.s)return void(t.o=jt.bind(null,e,n));1&n&&(n=t.s),t=t.v}if(t&&t.then)return void t.then(jt.bind(null,e,n),jt.bind(null,e,2));e.s=n,e.v=t;var r=e.o;r&&r(e)}}var Ot=function(){function e(){}return e.prototype.then=function(n,t){var r=new e,o=this.s;if(o){var u=1&o?n:t;if(u){try{jt(r,1,u(this.v))}catch(e){jt(r,2,e)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?jt(r,1,n?n(o):o):t?jt(r,1,t(o)):jt(r,2,o)}catch(e){jt(r,2,e)}},r},e}();function Lt(e){return e instanceof Ot&&1&e.s}var _t=function(e){try{var n=function(){if(ge(e))return function(n,t){try{var r=Promise.resolve(Gt(e,Object.values(e.accounts))).then(function(){return Promise.resolve(Gt(e,Object.values(e.accounts))).then(function(){})})}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}(0,function(e){throw console.error("=== SAD PANDA ===\n\n",e,"\n\n=== SAD PANDA ==="),e})}();return Promise.resolve(n&&n.then?n.then(function(n){return e}):e)}catch(e){return Promise.reject(e)}},Gt=function n(t,r,o,u){void 0===u&&(u=3);try{var i=function(){o&&(t.authorizations=t.authorizations.map(function(e){return e===o.tempId?c:e}).reduce(function(e,n){return Array.isArray(n)?[].concat(e,n):[].concat(e,[n])},[]))};(0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(u,"Account Resolve Recursion Limit Exceeded",{ix:t,accounts:r});var c=[],a=function(e,n,t){if("function"==typeof e[Nt]){var r,o,u,i=e[Nt]();if(function e(t){try{for(;!(r=i.next()).done;)if((t=n(r.value))&&t.then){if(!Lt(t))return void t.then(e,u||(u=jt.bind(null,o=new Ot,2)));t=t.v}o?jt(o,1,t):o=t}catch(e){jt(o||(o=new Ot),2,e)}}(),i.return){var c=function(e){try{r.done||i.return()}catch(e){}return e};if(o&&o.then)return o.then(c,function(e){throw c(e)});c()}return o}if(!("length"in e))throw new TypeError("Object is not iterable");for(var a=[],s=0;s<e.length;s++)a.push(e[s]);return function(e,n,t){var r,o,u=-1;return function t(i){try{for(;++u<e.length;)if((i=n(u))&&i.then){if(!Lt(i))return void i.then(t,o||(o=jt.bind(null,r=new Ot,2)));i=i.v}r?jt(r,1,i):r=i}catch(e){jt(r||(r=new Ot),2,e)}}(),r}(a,function(e){return n(a[e])})}(r,function(e){function r(){function r(){i.tempId!=e.tempId&&delete t.accounts[i.tempId]}var a=function(){if(Array.isArray(e))return Promise.resolve(n(t,e,i,u-1)).then(function(){});null!=e.addr&&null!=e.keyId&&(e.tempId=e.addr+"-"+e.keyId),t.accounts[e.tempId]=t.accounts[e.tempId]||e,t.accounts[e.tempId].role.proposer=t.accounts[e.tempId].role.proposer||e.role.proposer,t.accounts[e.tempId].role.payer=t.accounts[e.tempId].role.payer||e.role.payer,t.accounts[e.tempId].role.authorizer=t.accounts[e.tempId].role.authorizer||e.role.authorizer,t.accounts[e.tempId].role.proposer&&t.proposer===i.tempId&&(t.proposer=e.tempId),t.accounts[e.tempId].role.payer&&t.payer===i.tempId&&(t.payer=e.tempId),t.accounts[e.tempId].role.authorizer&&(o?c=Array.from(new Set([].concat(c,[e.tempId]))):t.authorizations=t.authorizations.map(function(n){return n===i.tempId?e.tempId:n}))}();return a&&a.then?a.then(r):r()}var i=o||e,a=function(){if(Ct(e.resolve))return Promise.resolve(e.resolve(e,function(e,n){try{return{f_type:"PreSignable",f_vsn:"1.0.1",roles:e.role,cadence:n.message.cadence,args:n.message.arguments.map(function(e){return n.arguments[e].asArgument}),data:{},interaction:n,voucher:Tt(n)}}catch(e){throw console.error("buildPreSignable",e),e}}(e,t))).then(function(n){e=n})}();return a&&a.then?a.then(r):r()});return Promise.resolve(a&&a.then?a.then(i):i())}catch(e){return Promise.reject(e)}},Ct=function(e){return"function"==typeof e},Dt=function(e){try{var n=function(){if(ge(e))return function(n,t){try{var r=(o=Bt(e),u=Vn(Ut(e)),Promise.resolve(Promise.all(o.map(Kt(e,u)))).then(function(){var n=At(e),t=Xn(O({},Ut(e),{payloadSigs:o.map(function(n){return{address:e.accounts[n].addr,keyId:e.accounts[n].keyId,sig:e.accounts[n].signature}})}));return Promise.resolve(Promise.all(n.map(Kt(e,t)))).then(function(){})}))}catch(e){return t(e)}var o,u;return r&&r.then?r.then(void 0,t):r}(0,function(n){throw console.error("Signatures",n,{ix:e}),n})}();return Promise.resolve(n&&n.then?n.then(function(n){return e}):e)}catch(e){return Promise.reject(e)}};function Kt(e,n){return function(t){try{var r=e.accounts[t];return null!=r.signature?Promise.resolve():Promise.resolve(r.signingFunction(function(e,n,t){try{return{f_type:"Signable",f_vsn:"1.0.1",message:n,addr:(0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(e.addr),keyId:e.keyId,roles:e.role,cadence:t.message.cadence,args:t.message.arguments.map(function(e){return t.arguments[e].asArgument}),data:{},interaction:t,voucher:Tt(t)}}catch(e){throw console.error("buildSignable",e),e}}(r,n,e))).then(function(n){var o=n.signature;r.role.proposer||(e.accounts[t].keyId=n.keyId),e.accounts[t].signature=o})}catch(e){return Promise.reject(e)}}}function Ut(e){return{cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map(function(n){return e.arguments[n].asArgument}),proposalKey:{address:(0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum},payer:(0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(e.accounts[e.payer].addr),authorizers:e.authorizations.map(function(n){return (0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(e.accounts[n].addr)}).reduce(function(e,n){return e.find(function(e){return e===n})?e:[].concat(e,[n])},[])}}var Rt=function(e){try{var n=_e(e,"ix.validators",[]);return Promise.resolve(Oe(e,n.map(function(e){return function(n){return e(n,{Ok:V,Bad:X})}})))}catch(e){return Promise.reject(e)}},Ft=function(e){try{for(var n=0,t=Object.keys(e.accounts);n<t.length;n++){var r=t[n];e.accounts[r].addr=(0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(e.accounts[r].addr)}return Promise.resolve(e)}catch(e){return Promise.reject(e)}},zt=function(e){return e},Ht=function(e,n){return void 0===n&&(n=zt),function(t){try{var r=function(e){return["\nAccounts:",{proposer:e.proposer,authorizations:e.authorizations,payer:e.payer},"\n\nDetails:",e.accounts].filter(Boolean)},o=function(){var n;(n=console).log.apply(n,["debug["+e+"] ---\n"].concat([].slice.call(arguments),["\n\n\n---"]))};return Promise.resolve(en.get("debug."+e)).then(function(e){var u=function(){if(e)return Promise.resolve(n(t,o,r)).then(function(){})}();return u&&u.then?u.then(function(){return t}):t})}catch(e){return Promise.reject(e)}}},qt=Oe([Kn,Ht("cadence",function(e,n){return n(e.message.cadence)}),Jn,Ht("arguments",function(e,n){return n(e.message.arguments,e.message)}),_t,Ht("accounts",function(e,n,t){return n.apply(void 0,t(e))}),function(e){try{var n=function(){if(ge(e)&&null==e.message.refBlock)return Promise.resolve(en.first(["sdk.transport","sdk.send"],Bn)).then(function(n){return Promise.resolve(n(Ke([An()])).then(Cn)).then(function(n){e.message.refBlock=n.id})})}();return Promise.resolve(n&&n.then?n.then(function(){return e}):e)}catch(e){return Promise.reject(e)}},function(n){try{var t=function(){if(ge(n))return Promise.resolve(en.first(["sdk.transport","sdk.send"],Bn)).then(function(t){var r=Object.values(n.accounts).find(function(e){return e.role.proposer});(0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(r,"Transactions require a proposer");var o=function(){if(null==r.sequenceNum)return Promise.resolve(Ke([Tn(r.addr)])).then(function(e){return Promise.resolve(t(e).then(Cn).then(function(e){return e.keys}).then(function(e){return e.find(function(e){return e.index===r.keyId})}).then(function(e){return e.sequenceNumber})).then(function(e){n.accounts[r.tempId].sequenceNum=e})})}();if(o&&o.then)return o.then(function(){})})}();return Promise.resolve(t&&t.then?t.then(function(){return n}):n)}catch(e){return Promise.reject(e)}},Dt,Ht("signatures",function(e,n,t){return n.apply(void 0,t(e))}),Ft,Rt,function(e){try{var n=_e(e,"ix.pre-send-check"),t=function(){if(Y(n))return Promise.resolve(n(Tt(e))).then(function(){})}();return Promise.resolve(t&&t.then?t.then(function(){return e}):e)}catch(e){return Promise.reject(e)}},Ht("resolved",function(e,n){return n(e)})]),Mt=function(e,n){void 0===e&&(e=[]),void 0===n&&(n={});try{return Promise.resolve(en.first(["sdk.transport","sdk.send"],n.send||Bn)).then(function(t){return Promise.resolve(en.first(["sdk.resolve"],n.resolve||qt)).then(function(r){return Array.isArray(e)&&(e=Oe(z(),e)),Promise.resolve(r(e)).then(function(e){return t(e,n)})})})}catch(e){return Promise.reject(e)}},Jt=function(e){try{return Promise.resolve(en().where(/^decoder\./)).then(function(n){var t=Object.entries(n).map(function(e){var n=e[0],t=e[1];return[n="/"+n.replace(/^decoder\./,"")+"$/",t]});return Cn(e,Object.fromEntries(t))})}catch(e){return Promise.reject(e)}},Wt=function(e){var n,t;function r(n){var t,r=("\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: "+n+". \n        Please ensure the address: "+n+" is intended to sign the given transaction as specified by the transaction signable.\n      ").trim();return(t=e.call(this,r)||this).name="Unable To Determine Message Encoding For Signer Addresss",t}return t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,_(n,t),r}(D(Error)),Yt=function(e,n){var t,r,o=(t=e.voucher,(r=new Set(t.authorizers)).add(t.proposalKey.address),r.delete(t.payer),Array.from(r).map(_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .withPrefix */ .dq)),u=function(e){var n=new Set([e.payer]);return Array.from(n).map(_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .withPrefix */ .dq)}(e.voucher),i=o.includes((0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .withPrefix */ .dq)(n)),c=u.includes((0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .withPrefix */ .dq)(n));if(!i&&!c)throw new Wt(n);var a={cadence:e.voucher.cadence,refBlock:e.voucher.refBlock,computeLimit:e.voucher.computeLimit,arguments:e.voucher.arguments,proposalKey:O({},e.voucher.proposalKey,{address:(0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(e.voucher.proposalKey.address)}),payer:(0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(e.voucher.payer),authorizers:e.voucher.authorizers.map(_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH),payloadSigs:e.voucher.payloadSigs.map(function(e){return O({},e,{address:(0,_onflow_util_address__WEBPACK_IMPORTED_MODULE_7__/* .sansPrefix */ .CH)(e.address)})})};return i?Vn(a):Xn(a)};function Vt(){var e=[].slice.call(arguments),n=e[1]||("object"==typeof e[0]?e[0]:void 0),t="boolean"==typeof e[0]?e[0]:void 0;return"object"==typeof e[0]&&console.warn("\n      %cFCL/SDK Deprecation Notice\n      ============================\n  \n      Passing options as the first arguement to the latestBlock function has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0007-deprecate-opts-first-arg-latest-block\n  \n      ============================\n    ","font-weight:bold;font-family:monospace;"),Mt([An(t)],n).then(Cn)}function Xt(e,n){return Mt([Tn(e)],n).then(Cn)}function $t(e){return void 0===e&&(e=[]),Oe(e.map(function(e){return Z(e,{role:"authorizer"})}))}function Zt(e,n,t,r){return{addr:e,signingFunction:n,keyId:t,sequenceNum:r}}function Qt(e){return Ce("ix.validators",function(n){return Array.isArray(n)?n.push(e):[e]})}function er(e){return Oe([function(n){return n.block.height=e,n},Qt(function(e){if("boolean"==typeof e.block.isSealed)throw new Error("Unable to specify both block height and isSealed.");if(e.block.id)throw new Error("Unable to specify both block height and block id.");return e})])}function nr(e){return Oe([function(n){return n.block.id=e,V(n)},Qt(function(e,n){var t=n.Ok,r=n.Bad;return be(e)?r(e,"Unable to specify a block id with a Get Account interaction."):"boolean"==typeof e.block.isSealed?r(e,"Unable to specify both block id and isSealed."):e.block.height?r(e,"Unable to specify both block id and block height."):t(e)})])}function tr(e,n,t){return void 0===n&&void 0===t||console.warn("\n      %cFCL/SDK Deprecation Notice\n      ============================\n  \n      Passing a start and end into getEnvents has been deprecated and will not be supported in future versions of the Flow JS-SDK/FCL.\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\n  \n      ============================\n    ","font-weight:bold;font-family:monospace;"),Oe([ue,function(r){return r.events.eventType=e,r.events.start=n,r.events.end=t,V(r)}])}function rr(e,n,t){return Oe([ue,function(r){return r.events.eventType=e,r.events.start=n,r.events.end=t,V(r)}])}function or(e,n){return void 0===n&&(n=[]),Oe([ue,function(t){return t.events.eventType=e,t.events.blockIds=n,V(t)}])}function ur(e){return void 0===e&&(e=null),Oe([fe,function(n){return n.block.isSealed=e,V(n)}])}function ir(e){return void 0===e&&(e=!1),console.warn("\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getLatestBlock builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0006-deprecate-get-latest-block-builder\n\n    ============================\n  ","font-weight:bold;font-family:monospace;"),Oe([ie,function(n){return n.block.isSealed=e,V(n)}])}function cr(e){return console.warn("\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getBlockById builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0004-deprecate-get-block-by-id-builder\n\n    ============================\n  ","font-weight:bold;font-family:monospace;"),Oe([ce,function(n){return n.block.ids=[e],V(n)}])}function ar(e){return console.warn("\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getBlockByHeight builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0003-deprecate-get-block-by-height-builder\n\n    ============================\n  ","font-weight:bold;font-family:monospace;"),Oe([ae,function(n){return n.block.height=e,V(n)}])}function sr(e){return void 0===e&&(e=null),Oe([de,function(n){return n.collection.id=e,n}])}function lr(e){return Oe([te,function(n){return n.transaction.id=e,V(n)}])}function fr(e){return Oe([re,function(n){return n.transaction.id=e,V(n)}])}function dr(e){return function(n){return n.message.computeLimit=e,n}}function mr(e){return void 0===e&&(e=[]),Oe(e.map(Q))}function pr(e,n){return{value:e,xform:n}}var hr=function(e){try{return Promise.resolve(Z(e,{role:"proposer"}))}catch(e){return Promise.reject(e)}},gr=function(e){try{return Promise.resolve(Z(e,{role:"payer"}))}catch(e){return Promise.reject(e)}};function vr(){return se}function yr(e){return Oe([function(n){return n.message.refBlock=e,V(n)}])}function br(){return Oe([ee,Ge("ix.cadence",_onflow_util_template__WEBPACK_IMPORTED_MODULE_8__/* .template.apply */ .X.apply(void 0,[].slice.call(arguments)))])}var kr=[];function Ir(){return Oe([ne,Ge("ix.cadence",_onflow_util_template__WEBPACK_IMPORTED_MODULE_8__/* .template.apply */ .X.apply(void 0,[].slice.call(arguments))),function(e){return e.message.computeLimit=e.message.computeLimit||10,e.message.refBlock=e.message.refBlock||null,e.authorizations=e.authorizations||kr,V(e)}])}function Sr(){var e=[].slice.call(arguments);if(e.length>1){var n=e,t=n[0],r=n[1];return Sr(function(e,n){var o=n.Bad;return t?(0,n.Ok)(e):o(e,r)})}var o=e[0];return function(e){return o(e,{Ok:V,Bad:X})}}var Pr=function(e){var n=e.node;return function(e){try{return ge(e)?e.accounts[e.proposer].sequenceNum?Promise.resolve(V(e)):Promise.resolve(Ke([Tn(e.accounts[e.proposer].addr)])).then(function(t){return Promise.resolve(Bn(t,{node:n})).then(function(n){return Promise.resolve(Cn(n)).then(function(n){return e.accounts[e.proposer].sequenceNum=n.keys[e.accounts[e.proposer].keyId].sequenceNumber,V(e)})})}):Promise.resolve(V(e))}catch(e){return Promise.reject(e)}}},wr=function(e){return e},Er=["tempId"];function Br(e){return["SIGNATURE",e.addr,e.keyId].join(".")}function Ar(e){return void 0===e&&(e={}),function(n){var t=O({},n,e,{signingFunction:e.signingFunction||n.signingFunction||function(e){return{addr:t.addr,keyId:t.keyId,signature:Br(t)}}});return t}}var Tr={proposer:!1,authorizer:!1,payer:!1},xr={__proto__:null,mockSend:function(n){return void 0===n&&(n=wr),function(t){try{return Promise.resolve(t).then(function(r){switch(t=r,!0){case be(t):return function(n,t){return void 0===t&&(t=5),(0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(n.account,"mockAccountResponse(ix) -- ix.account is missing",n),(0,_onflow_util_invariant__WEBPACK_IMPORTED_MODULE_6__/* .invariant */ .k)(n.account.addr,"mockAccountResponse(ix) -- ix.account.addr is missing",n),{account:{addr:n.account.addr,keys:Array.from({length:t},function(e,n){return{index:n,sequenceNumber:42}})}}}(t);case Ee(t):return{tag:"GET_BLOCK",block:{id:"32"}};default:return n(t)}})}catch(e){return Promise.reject(e)}}},authzFn:Ar,authzResolve:function(e){return void 0===e&&(e={}),function(n){return O({},n,{tempId:e.tempId||"WITH_RESOLVE",resolve:Ar(function(e,n){if(null==e)return{};var t,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)n.indexOf(t=u[r])>=0||(o[t]=e[t]);return o}(e,Er))})}},authzResolveMany:function(e){return void 0===e&&(e={}),function(n){return O({},n,{tempId:e.tempId||"AUTHZ_RESOLVE_MANY",resolve:function(){return[e.proposer&&Ar(e.proposer)({role:O({},Tr,{proposer:!0})})].concat(e.authorizations.map(Ar).map(function(e){return e({role:O({},Tr,{authorizer:!0})})}),[e.payer&&Ar(e.payer)({role:O({},Tr,{payer:!0})})]).filter(Boolean)}})}},sig:Br,idof:function(e){return e.addr+"-"+e.keyId},run:function(e){return void 0===e&&(e=[]),Ke([yr("123")].concat(e)).then(qt)}},Nr="0.0.56-alpha.2",jr=function(e){return n={name:"params",transitionsPath:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"},void console.error("\n    %cFCL/SDK Deprecation Notice\n    ============================\n    The "+n.name+" builder has been removed from the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: "+n.transitionsPath+"\n    ============================\n  ","font-weight:bold;font-family:monospace;");var n},Or=function(e){return n={name:"param",transitionsPath:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"},void console.warn("\n    %cFCL/SDK Deprecation Notice\n    ============================\n    The "+n.name+" builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: "+n.transitionsPath+"\n    ============================\n  ","font-weight:bold;font-family:monospace;");var n};
//# sourceMappingURL=sdk.module.js.map


/***/ })

}]);